<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>stratos lab</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        header {
            background-color: #2c3e50;
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            text-decoration: none;
            color: white;
        }
        
        nav {
            display: flex;
            gap: 2rem;
            align-items: center;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        
        nav a:hover {
            background-color: #34495e;
        }
        
        .lang-switcher {
            display: flex;
            gap: 0.5rem;
        }
        
        .lang-switcher a {
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-size: 0.9rem;
        }
        
        .lang-switcher a.active {
            background-color: #34495e;
        }
        
        main {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 1.5rem;
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            min-height: 60vh;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 1rem;
            font-size: 2.5rem;
        }
        
        h2 {
            color: #34495e;
            margin-top: 2rem;
            margin-bottom: 1rem;
            font-size: 2rem;
        }
        
        h3 {
            color: #34495e;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            font-size: 1.5rem;
        }
        
        p {
            margin-bottom: 1rem;
            color: #555;
        }
        
        ul, ol {
            margin-bottom: 1rem;
            padding-left: 2rem;
        }
        
        li {
            margin-bottom: 0.5rem;
        }
        
        blockquote {
            border-left: 4px solid #3498db;
            padding-left: 1rem;
            margin: 1.5rem 0;
            color: #666;
            font-style: italic;
        }
        
        img {
            max-width: 100%;
            height: auto;
            border-radius: 4px;
            margin: 1rem 0;
        }
        
        figure {
            margin: 1.5rem 0;
        }
        
        figcaption {
            font-size: 0.9rem;
            color: #666;
            margin-top: 0.5rem;
        }
        
        .breadcrumb {
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
            color: #666;
        }
        
        .breadcrumb a {
            color: #3498db;
            text-decoration: none;
        }
        
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        
        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin: 1.5rem 0;
            align-items: center;
        }
        
        .tag {
            background-color: #ecf0f1;
            color: #2c3e50;
            padding: 0.4rem 0.9rem;
            border-radius: 16px;
            font-size: 0.85rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
            transition: background-color 0.3s, transform 0.2s, box-shadow 0.2s;
            border: 1px solid transparent;
            line-height: 1.4;
            min-height: 28px;
            box-sizing: border-box;
        }
        
        .tag:hover {
            background-color: #3498db;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 2px 6px rgba(52, 152, 219, 0.3);
            border-color: #2980b9;
        }
        
        .tag:visited {
            color: #2c3e50;
        }
        
        .tag:visited:hover {
            color: white;
        }
        
        .tag-search-section {
            margin: 2rem 0;
            padding: 1.5rem;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            border: 1px solid #dee2e6;
        }
        
        .tag-search-section h2 {
            margin-top: 0;
            margin-bottom: 0.5rem;
            font-size: 1.5rem;
        }
        
        .tag-search-section p {
            margin-bottom: 1rem;
            color: #666;
        }
        
        .tags-container {
            padding: 0.75rem 1rem;
            background-color: white;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }
        
        .tags-container .tags {
            display: flex;
            flex-wrap: wrap;
            margin: 0;
            gap: 0.5rem;
            align-items: center;
        }
        
        .tags-container .tag {
            flex-shrink: 0;
        }
        
        .global-search {
            margin: 2rem 0;
            padding: 2rem;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            border: 1px solid #dee2e6;
            text-align: center;
        }
        
        .global-search-form {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
        }
        
        .global-search-box-wrapper {
            position: relative;
        }
        
        .global-search-box {
            display: flex;
            gap: 0.5rem;
            align-items: center;
            background-color: white;
            border: 2px solid #ddd;
            border-radius: 24px;
            padding: 0.5rem 1rem;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        
        .global-search-box-wrapper:focus-within .global-search-box {
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }
        
        .global-search-box input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 1rem;
            padding: 0.5rem;
        }
        
        .global-search-box button {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.25rem;
            color: #7f8c8d;
        }
        
        .global-search-box button:hover {
            color: #3498db;
        }
        
        .search-suggestions {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            margin-top: 0.5rem;
            max-height: 400px;
            overflow-y: auto;
            z-index: 1000;
        }
        
        .suggestion-item {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            text-decoration: none;
            color: #333;
            border-bottom: 1px solid #f0f0f0;
            transition: background-color 0.2s;
        }
        
        .suggestion-item:last-child {
            border-bottom: none;
        }
        
        .suggestion-item:hover {
            background-color: #f8f9fa;
        }
        
        .suggestion-type {
            display: inline-block;
            padding: 0.2rem 0.6rem;
            background-color: #ecf0f1;
            color: #7f8c8d;
            font-size: 0.75rem;
            border-radius: 4px;
            margin-right: 0.75rem;
            min-width: 50px;
            text-align: center;
        }
        
        .suggestion-text {
            flex: 1;
            font-size: 0.95rem;
        }
        
        footer {
            background-color: #2c3e50;
            color: white;
            text-align: center;
            padding: 1.5rem 0;
            margin-top: auto;
            position: relative;
        }
        
        footer p {
            color: white;
            margin: 0;
        }
        
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        
        main {
            flex: 1;
        }
        
        .term {
            position: relative;
            display: inline;
        }
        
        .term-link {
            color: inherit;
            text-decoration: none;
            border-bottom: 1px dashed #3498db;
            transition: all 0.2s ease;
            cursor: help;
        }
        
        .term-link:hover {
            border-bottom-color: #2980b9;
            color: #3498db;
            background-color: rgba(52, 152, 219, 0.1);
            padding: 0 2px;
            margin: 0 -2px;
            border-radius: 2px;
        }
        
        .term-link:visited {
            color: inherit;
        }
        
        .term-link:visited:hover {
            color: #3498db;
        }
        
        .unit-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .unit-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 1.5rem;
            transition: transform 0.3s, box-shadow 0.3s;
            text-decoration: none;
            color: inherit;
            display: block;
        }
        
        .unit-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .unit-card h2 {
            margin-top: 0;
            font-size: 1.5rem;
        }
        
        .unit-card .tags {
            margin-top: 1rem;
            margin-bottom: 0;
        }
        
        .unit-card .tag {
            font-size: 0.8rem;
            padding: 0.3rem 0.7rem;
        }
        
        .chapter-list {
            list-style: none;
            padding-left: 0;
        }
        
        .chapter-list li {
            margin-bottom: 1rem;
        }
        
        .chapter-list a {
            display: block;
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-decoration: none;
            color: inherit;
            transition: background-color 0.3s;
        }
        
        .chapter-list a:hover {
            background-color: #f8f9fa;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <a href="zh/" class="logo">stratos lab</a>
            <nav>
                <a href="zh/">首页</a>
                <a href="zh/search/">搜索</a>
                <a href="zh/glossary/">术语词汇表</a>
                <div class="lang-switcher">
                    
                        <a href="en/" class="active">中文</a>
                        <a href="en/">English</a>
                    
                </div>
            </nav>
        </div>
    </header>
    
    <main>
        
        
        


<h1>⚙️ Unit 0: 经济机器是如何运行的</h1>
<p>这是2008年美国金融危机之后，Ray Dalio在Youtube上分享的30分钟视频《How The Economic Machine Works》《经济机器是如何运行的》，目前已经播放了五百多万次。</p>


<div class="content">
    <p>这是2008年美国金融危机之后，Ray Dalio在Youtube上分享的30分钟视频《How The Economic Machine Works》《经济机器是如何运行的》，目前已经播放了五百多万次。</p>
    
    <p>比尔盖茨对这个视频的推荐语是这样的：</p>
    
    <blockquote>
        "This knowledge would help everyone as investors and citizens. Watching it for 30 minutes is a worthwhile investment."
        <p>这些知识对每个人都有帮助，无论是投资者还是普通人；看三十分钟本身就是一个值得的投资。</p>
    </blockquote>
    
    <h2>YouTube链接</h2>
    <blockquote>
        英文原版 <a href="https://www.youtube.com/watch?v=PHe0bXAIuk0">https://www.youtube.com/watch?v=PHe0bXAIuk0</a><br>
        中文版 <a href="https://www.youtube.com/watch?v=rFV7wdEX-Mo">https://www.youtube.com/watch?v=rFV7wdEX-Mo</a>
    </blockquote>
    
    <h2>经济就像简单机器在运行</h2>
    <p>经济看起来复杂，实际上就像简单机器在运行。经济由几个简单部分和大量简单的交易组成，在人类本性驱动下，产生经济发展的三股动力。</p>
    
    <h2>经济发展的三股动力</h2>
    <p>生产率的提高、短期债务周期、长期债务周期。</p>
    
    <h2>交易（Transactions）</h2>
    <ol>
        <li>交易由买方（Buyer）和卖方（Seller）组成
            <ul>
                <li>买方支出：货币（Money）、信用（Credit）</li>
                <li>卖方提供：商品（Goods）、服务（Services）、金融资产（Financial Assets）</li>
            </ul>
        </li>
        <li>货币支出 + 信用支出 = 支出总额（Total Spending），支出总额驱动经济发展。</li>
        <li>支出总额 / 产品总量（Total Quantity） = 价格（Price）</li>
    </ol>
    
    <h2>市场的参与者</h2>
    <p>个人、企业、银行和政府。</p>
    <p>其中政府是最大买方和卖方。因为政府有：</p>
    <ul>
        <li>控制收入的中央政府（调节税收）</li>
        <li>控制支出的中央银行（调节利率、发行货币）</li>
    </ul>
    
    <h2>信贷（Credit）</h2>
    <ol>
        <li>信贷是经济中最重要的部分，因为信贷是经济中最大的（biggest）、也最脆弱的（vulnerable）部分。</li>
        <li>信贷可以增加支出，而支出驱动经济发展。</li>
        <li>信贷并不总是坏的：
            <ul>
                <li>如果信贷仅仅用于消费，而未来没有足够的收入偿还债务，就不利于经济发展。</li>
                <li>如果信贷用于提高生产，增加了收入，未来能够还债，而且改善了生活，就促进了经济发展。</li>
            </ul>
        </li>
    </ol>
    
    <h2>经济周期</h2>
    <ul>
        <li>生产率提高相对漫长；而信贷可在短期内增加支出。</li>
        <li>由于人的本性，发生借贷，于是产生经济周期。</li>
    </ul>
    
    <h3>短期信贷周期</h3>
    <p>短期信贷周期通常为5-8年。</p>
    <p>借款方：信贷增长过程</p>
    <ul>
        <li>信贷增加一个人的支出，同时增加了其他人的收入</li>
        <li>收入增加，能还的越多，信用度越高，信贷又增加</li>
    </ul>
    <blockquote>债务如果无法偿还，可以通过出售抵押物来解决</blockquote>
    
    <p>贷款方：央行的调节</p>
    <ul>
        <li>信贷增加，支出增加，而生产率增长有限，导致物价上涨，<strong>通货膨胀</strong>（Inflation）。</li>
        <li>央行提高利率，信贷减少，支出减少，收入下降，物价下跌，<strong>通货紧缩</strong>（Deflation），直到<strong>经济衰退</strong>（Recession）。</li>
        <li>央行降低利率，反向调节，如此往复。</li>
    </ul>
    
    <h3>长期信贷周期</h3>
    <p>长期信贷周期通常需要75-100年。</p>
    <p>1、由于人类本性爱花钱，且往往只关注短期，会借过多钱消费，收入不断增加，资产不断增加，信贷不断增加。</p>
    <blockquote>Why? Because everyone thinks things are going great. People are just focus on what's been happening lately.</blockquote>
    
    <p>2、市场信贷过多，负债增长逐渐超过了收入增长，泡沫过大，直到借款人没法还债。</p>
    
    <p>3、没法还债，只能出售资产，又会导致股市、房价等资产暴跌。</p>
    
    <p>4、更少的消费，更少的收入，更少的财富，更少的信用，更少的贷款……恶性循环……</p>
    
    <p>5、和经济衰退（Recession）不同，去杠杆化（Deleveraging）过程中，由于债务负担过大，当央行把利率降低到0，仍然不能解决问题。</p>
    <blockquote>
        This appears similar to a recession. But the difference here is that interest rates can't be lower to save the day.
        <p>备注：去杠杆化也可以翻译成减债，即减少市场贷款的过程。</p>
    </blockquote>
    
    <p>6、借款人意识到借出的钱没法被偿还，不再贷款，借款人不再借款，经济发展受阻，最终可导致经济危机。</p>
    
    <h2>去杠杆（Deleveraging）的四个方法</h2>
    
    <h3>1、削减支出</h3>
    <p>为了减少债务，人们减少支出，但是可能导致收入下降更快，债务负担更严重，企业削减成本，失业率提高、工资下降……</p>
    
    <h3>2、减少债务</h3>
    <p>当借款人不能还债，人们担心在银行的存款不能被返还，纷纷从银行取款，而银行没有足够的钱。</p>
    <p>大量借款人违约（Default），导致经济萧条（Depression），人们意识到资产泡沫。人们不希望资产消失，借贷双方同意债务重组（Debt Restructuring），借款人还更少的钱、更晚还钱，或以更低的利率还钱。</p>
    <p>债务减少后，收入减少更快，又会增加债务负担。</p>
    
    <h3>3、财富再分配</h3>
    <p>收入减少，导致政府税收减少；另一方面失业率升高，需要更多的政府支出补贴。</p>
    <p>政府发生财政赤字（Deficit），只能增加税收或借钱。由于大部分人收入下降，只能给富人加税，补贴穷人，相当于财富再分配。</p>
    <p>如果经济还是持续萧条，可能激化阶级怨恨，导致社会动荡，甚至变革。</p>
    
    <h3>4、发行货币</h3>
    <p>央行发行货币，购买金融资产和政府债券（相当于央行借钱给政府），政府提供更多就业机会，刺激经济复苏。</p>
    
    <h3>总结</h3>
    <p>1、前三种方法会引起通货紧缩，而发行货币会引起通货膨胀。如果能达到完美的平衡（A Beautiful Deleveraging），就不会产生严重通货膨胀。</p>
    
    <p>2、发行货币，使得货币支出增加，同时减少信用支出，使得支出总额稳定，物价就能稳定。</p>
    <blockquote>
        货币支出 + 信用支出 = 支出总额<br>
        支出总额 / 产品总量 = 价格
    </blockquote>
    
    <p>3、为了扭转局面，央行要发行正确数量的货币：一方面发行货币要足够多，使得收入增加比债务增加快，这样才能还债；另一方面不能发行过多货币，以免导致恶性通货膨胀。</p>
    
    <h2>三条经验法则</h2>
    <p>最后作者给出了三条很有智慧的经验法则：</p>
    <ol>
        <li>不要让债务增速超过收入增速。</li>
        <li>不要让收入增速超过生产率的增长。</li>
        <li>尽一切努力提高生产率。</li>
    </ol>
</div>


    </main>
    
    <script>
    // Global term marking script
    (function() {
        const glossary = [{"id":"fundamental-analysis","en":"Fundamental Analysis","zh":"基本面分析","topic":"fundamental-analysis","description":{"en":"The analysis of a company's financial health, business model, and industry position to determine its intrinsic value.","zh":"通过分析公司的财务状况、商业模式和行业地位来判断其内在价值的方法。"}},{"id":"technical-analysis","en":"Technical Analysis","zh":"技术面分析","topic":"fundamental-analysis","description":{"en":"A method of evaluating securities by analyzing statistics generated by market activity, such as past prices and volume.","zh":"通过分析市场活动产生的统计数据（如历史价格和成交量）来评估证券的方法。"}},{"id":"income-statement","en":"Income Statement","zh":"利润表","topic":"financial-statements","description":{"en":"A financial statement that shows a company's revenues and expenses over a specific period, resulting in net income or loss.","zh":"显示公司在特定时期内的收入和支出，最终得出净利润或亏损的财务报表。"}},{"id":"balance-sheet","en":"Balance Sheet","zh":"资产负债表","topic":"financial-statements","description":{"en":"A financial statement that shows a company's assets, liabilities, and shareholders' equity at a specific point in time.","zh":"显示公司在特定时间点的资产、负债和股东权益的财务报表。"}},{"id":"cash-flow-statement","en":"Cash Flow Statement","zh":"现金流量表","topic":"financial-statements","description":{"en":"A financial statement that shows how changes in balance sheet accounts and income affect cash and cash equivalents.","zh":"显示资产负债表账户和收入的变化如何影响现金及现金等价物的财务报表。"}},{"id":"revenue","en":"Revenue","zh":"营业收入","topic":"financial-statements","description":{"en":"The total amount of money generated by a company from its business activities.","zh":"公司通过经营活动产生的总金额。"}},{"id":"gross-profit","en":"Gross Profit","zh":"毛利润","topic":"financial-statements","description":{"en":"Revenue minus the cost of goods sold (COGS).","zh":"营业收入减去营业成本（生产成本）。"}},{"id":"gross-profit-margin","en":"Gross Profit Margin","zh":"毛利率","topic":"financial-statements","description":{"en":"Gross profit divided by revenue, expressed as a percentage.","zh":"毛利润除以营业收入，以百分比表示。"}},{"id":"net-income","en":"Net Income","zh":"净利润","topic":"financial-statements","description":{"en":"Total revenue minus all expenses, taxes, and costs.","zh":"总收入减去所有费用、税收和成本后的利润。"}},{"id":"operating-income","en":"Operating Income","zh":"营业利润","topic":"financial-statements","description":{"en":"Income from a company's core business operations, excluding interest and taxes.","zh":"公司核心业务运营产生的收入，不包括利息和税收。"}},{"id":"eps","en":"EPS (Earnings Per Share)","zh":"每股收益","topic":"valuation","description":{"en":"A company's profit divided by the number of outstanding shares.","zh":"公司利润除以流通股数量。"}},{"id":"pe-ratio","en":"P/E Ratio (Price-to-Earnings)","zh":"市盈率","topic":"valuation","description":{"en":"The ratio of a company's share price to its earnings per share.","zh":"公司股价与每股收益的比率。"}},{"id":"peg-ratio","en":"PEG Ratio","zh":"PEG 比率","topic":"valuation","description":{"en":"P/E ratio divided by the earnings growth rate, used to determine if a stock is overvalued or undervalued.","zh":"市盈率除以盈利增长率，用于判断股票是否被高估或低估。"}},{"id":"dcf","en":"DCF (Discounted Cash Flow)","zh":"折现现金流","topic":"valuation","description":{"en":"A valuation method that estimates the value of an investment based on its expected future cash flows.","zh":"基于预期未来现金流来估算投资价值的估值方法。"}},{"id":"earnings-growth-rate","en":"Earnings Growth Rate","zh":"盈利增长率","topic":"valuation","description":{"en":"The rate at which a company's earnings are increasing over time.","zh":"公司盈利随时间增长的速度。"}},{"id":"economic-moat","en":"Economic Moat","zh":"护城河","topic":"economic-moats","description":{"en":"A competitive advantage that allows a company to maintain superior profitability over competitors.","zh":"使公司能够保持相对于竞争对手的卓越盈利能力的竞争优势。"}},{"id":"competitive-advantage","en":"Competitive Advantage","zh":"竞争优势","topic":"economic-moats","description":{"en":"Factors that allow a company to produce goods or services better or more cheaply than its competitors.","zh":"使公司能够比竞争对手更好或更便宜地生产商品或服务的因素。"}},{"id":"brand-power","en":"Brand Power","zh":"品牌优势","topic":"economic-moats","description":{"en":"The ability of a brand to command premium pricing and customer loyalty.","zh":"品牌能够获得溢价定价和客户忠诚度的能力。"}},{"id":"network-effects","en":"Network Effects","zh":"网络效应","topic":"economic-moats","description":{"en":"A phenomenon where a product or service becomes more valuable as more people use it.","zh":"随着使用人数的增加，产品或服务变得更有价值的现象。"}},{"id":"switching-costs","en":"Switching Costs","zh":"转换成本","topic":"economic-moats","description":{"en":"The costs that a customer incurs when switching from one product or service to another.","zh":"客户从一种产品或服务转换到另一种时产生的成本。"}},{"id":"value-investing","en":"Value Investing","zh":"价值投资","topic":"investment-strategy","description":{"en":"An investment strategy that involves buying securities that appear underpriced by some form of fundamental analysis.","zh":"通过某种形式的基本面分析，购买看似被低估的证券的投资策略。"}},{"id":"growth-investing","en":"Growth Investing","zh":"成长投资","topic":"investment-strategy","description":{"en":"An investment strategy focused on companies that are expected to grow at an above-average rate.","zh":"专注于预期以高于平均速度增长的公司的投资策略。"}},{"id":"index-investing","en":"Index Investing","zh":"指数投资","topic":"investment-strategy","description":{"en":"A passive investment strategy that seeks to replicate the performance of a market index.","zh":"寻求复制市场指数表现的被动投资策略。"}},{"id":"margin-of-safety","en":"Margin of Safety","zh":"安全边际","topic":"investment-strategy","description":{"en":"The difference between the intrinsic value of a security and its market price.","zh":"证券的内在价值与其市场价格之间的差额。"}},{"id":"alpha","en":"Alpha","zh":"阿尔法","topic":"investment-strategy","description":{"en":"A measure of performance on a risk-adjusted basis, representing the excess return of an investment relative to a benchmark.","zh":"风险调整后的表现衡量指标，代表投资相对于基准的超额回报。"}},{"id":"beta","en":"Beta","zh":"贝塔","topic":"investment-strategy","description":{"en":"A measure of a stock's volatility in relation to the overall market.","zh":"衡量股票相对于整体市场波动性的指标。"}},{"id":"index","en":"Index","zh":"指数","topic":"market-indices","description":{"en":"A statistical measure of change in a securities market, representing a portfolio of securities.","zh":"证券市场变化的统计衡量指标，代表一篮子证券。"}},{"id":"snp500","en":"S&P 500","zh":"标普 500","topic":"market-indices","description":{"en":"A stock market index that measures the stock performance of 500 large companies listed on US stock exchanges.","zh":"衡量在美国证券交易所上市的 500 家大公司股票表现的市场指数。"}},{"id":"dow-jones","en":"Dow Jones Industrial Average","zh":"道琼斯工业指数","topic":"market-indices","description":{"en":"A price-weighted average of 30 significant stocks traded on the New York Stock Exchange and NASDAQ.","zh":"在纽约证券交易所和纳斯达克交易的 30 只重要股票的价格加权平均值。"}},{"id":"nasdaq","en":"NASDAQ","zh":"纳斯达克","topic":"market-indices","description":{"en":"A global electronic marketplace for buying and selling securities, and the second-largest stock exchange in the world.","zh":"全球电子证券交易市场，世界第二大证券交易所。"}},{"id":"returns","en":"Returns","zh":"回报率","topic":"market-indices","description":{"en":"The gain or loss on an investment over a specified period, expressed as a percentage.","zh":"投资在特定时期内的收益或损失，以百分比表示。"}},{"id":"economics","en":"Economics","zh":"经济学","topic":"economics","description":{"en":"The social science that studies how individuals, businesses, and governments make choices about allocating resources.","zh":"研究个人、企业和政府如何做出资源配置选择的社会科学。"}},{"id":"debt-cycle","en":"Debt Cycle","zh":"债务周期","topic":"economics","description":{"en":"The recurring pattern of borrowing and repayment that affects economic growth and stability.","zh":"影响经济增长和稳定性的借贷和还款的循环模式。"}},{"id":"economic-machine","en":"Economic Machine","zh":"经济机器","topic":"economics","description":{"en":"A conceptual framework describing how the economy works through transactions, credit, and debt cycles.","zh":"描述经济如何通过交易、信贷和债务周期运作的概念框架。"}}];
        const lang = 'zh';
        const pathPrefix = '';
        
        if (!glossary || !Array.isArray(glossary)) return;
        
        // Sort terms by length (longest first) to avoid partial matches
        const sortedTerms = [...glossary].sort((a, b) => {
            const aLen = Math.max(a.en.length, a.zh.length);
            const bLen = Math.max(b.en.length, b.zh.length);
            return bLen - aLen;
        });
        
        function markTermsInElement(element) {
            if (!element) return;
            
            // Process all text nodes
            const walker = document.createTreeWalker(
                element,
                NodeFilter.SHOW_TEXT,
                {
                    acceptNode: function(node) {
                        // Skip script, style, and already marked terms
                        const parent = node.parentElement;
                        if (parent && (
                            parent.tagName === 'SCRIPT' || 
                            parent.tagName === 'STYLE' || 
                            parent.classList.contains('term') ||
                            parent.closest('.term')
                        )) {
                            return NodeFilter.FILTER_REJECT;
                        }
                        return NodeFilter.FILTER_ACCEPT;
                    }
                }
            );
            
            const textNodes = [];
            let node;
            while (node = walker.nextNode()) {
                textNodes.push(node);
            }
            
            textNodes.forEach(textNode => {
                let text = textNode.textContent;
                let modified = false;
                let newHTML = text;
                
                sortedTerms.forEach(term => {
                    const glossaryUrl = `${pathPrefix}${lang}/glossary/#${term.id}`;
                    
                    // Mark English terms (whole word)
                    const enRegex = new RegExp(`\\b${term.en.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')}\\b`, 'gi');
                    newHTML = newHTML.replace(enRegex, (match) => {
                        modified = true;
                        return `<span class="term" data-term-id="${term.id}"><a href="${glossaryUrl}" class="term-link">${match}</a></span>`;
                    });
                    
                    // Mark Chinese terms
                    const zhRegex = new RegExp(term.zh.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
                    newHTML = newHTML.replace(zhRegex, (match) => {
                        modified = true;
                        return `<span class="term" data-term-id="${term.id}"><a href="${glossaryUrl}" class="term-link">${match}</a></span>`;
                    });
                });
                
                if (modified && newHTML !== text) {
                    const wrapper = document.createElement('span');
                    wrapper.innerHTML = newHTML;
                    textNode.parentNode.replaceChild(wrapper, textNode);
                }
            });
        }
        
        // Mark terms when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', function() {
                const content = document.querySelector('.content, main, #chapterContent');
                if (content) markTermsInElement(content);
            });
        } else {
            const content = document.querySelector('.content, main, #chapterContent');
            if (content) markTermsInElement(content);
        }
    })();
    </script>
    
    <footer>
        <p>&copy; 2025 Jiaming Wang</p>
    </footer>
</body>
</html>

